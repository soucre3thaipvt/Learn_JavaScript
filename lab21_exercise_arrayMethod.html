<!-- //Excercise Bài tập tổng quan về array Methods vào thực tế -->
<!DOCTYPE html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<nav class="navbar navbar-toggleable-md navbar-light bg-faded">
    <title>HTML Tutorial</title>

    <body style="padding: 16px;">
        <div class="row">
            <div class="col form-group">
                <label for="genderFillter">Gender</label>
                <select class="form-control" id="genderFillter" onchange="renderGender()">
                    <option value="all">All</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>

            </div>
        </div>
        <ul class="list-group" id="userList">
            <!-- xo list ra tu script -->
        </ul>
        <p id="sumPrice">Total Pricre: 0</p>

    </body>
    <script>
        var users = [
            { name: 'Tam', gender: 'female', price: 40 },
            { name: 'Thanh', gender: 'male', price: 80 },
            { name: 'Sang', gender: 'female', price: 20 },
            { name: 'Teo', gender: 'male', price: 50 },
            { name: 'Tao', gender: 'male', price: 90 },
        ];

        // hien thi list danh sach nguoi dung
        function render(listUser) {
            var list = listUser.map(function (user) {
                return '<li class="list-group-item">' + user.name + '</li>';
            });
            //litsItemUser = []
            document.getElementById('userList').innerHTML = list;
        };
        render(users);
        function renderSumPrice(sumPriceUsers) {
            var arrayPrices = sumPriceUsers.map((user) => {
                return user.price;
            })
            var tong = arrayPrices.reduce((a, b) => {
                return a + b;
            }, 0)
            var text = '<p id="sumPrice">' + 'Total Pricre: ' + tong + '</p>'
            document.getElementById('sumPrice').innerHTML = text;
        }
        renderSumPrice(users);

        // loc theo gioi tinh va resuft sumPrice following quality userName
        function renderGender() {
            var gender = document.getElementById('genderFillter').value;
            if (gender === 'all') {
                render(users);
                renderSumPrice(users)
            } else {
                var listGt = users.filter(user => {
                    return user.gender === gender;
                })
                render(listGt);
                renderSumPrice(listGt)
            }
        }
        // genderFillter.on('change', function () {
        //     var selectGender = this.value;
        //     var filteredUsers = users.filter(function (user) {
        //         return user.gender === selectGender;
        //     });
        //     render(userList, filteredUsers);
        // });

        // bai tap them tính tổng Price

    </script>

</html>